-- --------------------------------------------------------

--
-- 테이블 구조 `payments`
--

CREATE TABLE `payments` (
  `srl` bigint(20) UNSIGNED NOT NULL COMMENT 'srl',
  `userSrl` bigint(20) UNSIGNED NOT NULL DEFAULT '0' COMMENT '유저 srl',
  `isProc` tinyint(1) NOT NULL DEFAULT '0' COMMENT '성공 여부',
  `platformType` tinyint(4) NOT NULL DEFAULT '0' COMMENT '플랫폼 타입',
  `trsId` varchar(144) COLLATE utf8mb4_bin DEFAULT NULL COMMENT '트랜잭션 id',
  `marketSaleId` tinyint(4) NOT NULL DEFAULT '0' COMMENT '마켓 sale id',
  `regTs` int(10) UNSIGNED NOT NULL DEFAULT '0' COMMENT '등록일'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='결제 로그';

-- --------------------------------------------------------

--
-- 테이블 구조 `restfulServerReqs`
--

CREATE TABLE `restfulServerReqs` (
  `srl` bigint(20) UNSIGNED NOT NULL,
  `route` varchar(50) COLLATE utf8mb4_bin NOT NULL COMMENT '라우트',
  `req` text COLLATE utf8mb4_bin COMMENT '요청',
  `res` text COLLATE utf8mb4_bin COMMENT '응답',
  `failType` tinyint(4) DEFAULT '0' COMMENT '실패 타입',
  `ip` varchar(30) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'ip 주소',
  `deviceId` varchar(50) COLLATE utf8mb4_bin DEFAULT NULL COMMENT '디바이스 id',
  `platformType` tinyint(4) DEFAULT '0' COMMENT '플랫폼 타입',
  `sessId` varchar(36) COLLATE utf8mb4_bin DEFAULT NULL COMMENT '티켓',
  `userSrl` bigint(20) DEFAULT NULL COMMENT '유저 srl',
  `execMs` smallint(6) NOT NULL COMMENT '수행 시간',
  `regTs` int(10) UNSIGNED NOT NULL COMMENT '등록일'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='로그' ROW_FORMAT=DYNAMIC
PARTITION BY RANGE (`srl`)
(
PARTITION p20000000 VALUES LESS THAN (20000000) ENGINE=InnoDB,
PARTITION p40000000 VALUES LESS THAN (40000000) ENGINE=InnoDB,
PARTITION p60000000 VALUES LESS THAN (60000000) ENGINE=InnoDB,
PARTITION p80000000 VALUES LESS THAN (80000000) ENGINE=InnoDB,
PARTITION p100000000 VALUES LESS THAN (100000000) ENGINE=InnoDB,
PARTITION p120000000 VALUES LESS THAN (120000000) ENGINE=InnoDB,
PARTITION p140000000 VALUES LESS THAN (140000000) ENGINE=InnoDB,
PARTITION p160000000 VALUES LESS THAN (160000000) ENGINE=InnoDB,
PARTITION p180000000 VALUES LESS THAN (180000000) ENGINE=InnoDB,
PARTITION p200000000 VALUES LESS THAN (200000000) ENGINE=InnoDB,
PARTITION p220000000 VALUES LESS THAN (220000000) ENGINE=InnoDB,
PARTITION p240000000 VALUES LESS THAN (240000000) ENGINE=InnoDB,
PARTITION p260000000 VALUES LESS THAN (260000000) ENGINE=InnoDB,
PARTITION p280000000 VALUES LESS THAN (280000000) ENGINE=InnoDB,
PARTITION p300000000 VALUES LESS THAN (300000000) ENGINE=InnoDB,
PARTITION p320000000 VALUES LESS THAN (320000000) ENGINE=InnoDB,
PARTITION p340000000 VALUES LESS THAN (340000000) ENGINE=InnoDB,
PARTITION p360000000 VALUES LESS THAN (360000000) ENGINE=InnoDB,
PARTITION p380000000 VALUES LESS THAN (380000000) ENGINE=InnoDB,
PARTITION p400000000 VALUES LESS THAN (400000000) ENGINE=InnoDB,
PARTITION p420000000 VALUES LESS THAN (420000000) ENGINE=InnoDB,
PARTITION p440000000 VALUES LESS THAN (440000000) ENGINE=InnoDB,
PARTITION p460000000 VALUES LESS THAN (460000000) ENGINE=InnoDB,
PARTITION p480000000 VALUES LESS THAN (480000000) ENGINE=InnoDB,
PARTITION p500000000 VALUES LESS THAN (500000000) ENGINE=InnoDB,
PARTITION p520000000 VALUES LESS THAN (520000000) ENGINE=InnoDB,
PARTITION p540000000 VALUES LESS THAN (540000000) ENGINE=InnoDB,
PARTITION p560000000 VALUES LESS THAN (560000000) ENGINE=InnoDB,
PARTITION p580000000 VALUES LESS THAN (580000000) ENGINE=InnoDB,
PARTITION p600000000 VALUES LESS THAN (600000000) ENGINE=InnoDB,
PARTITION pMAX VALUES LESS THAN MAXVALUE ENGINE=InnoDB
);

--
-- 덤프된 테이블의 인덱스
--

--
-- 테이블의 인덱스 `payments`
--
ALTER TABLE `payments`
  ADD PRIMARY KEY (`srl`),
  ADD KEY `IX_userSrl` (`userSrl`) USING BTREE,
  ADD KEY `IX_isProc` (`isProc`) USING BTREE;

--
-- 테이블의 인덱스 `restfulServerReqs`
--
ALTER TABLE `restfulServerReqs`
  ADD PRIMARY KEY (`srl`),
  ADD KEY `IX_userSrl` (`userSrl`),
  ADD KEY `IX_route` (`route`) USING BTREE,
  ADD KEY `IX_execMs` (`execMs`) USING BTREE;

--
-- 덤프된 테이블의 AUTO_INCREMENT
--

--
-- 테이블의 AUTO_INCREMENT `restfulServerReqs`
--
ALTER TABLE `restfulServerReqs`
  MODIFY `srl` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT;